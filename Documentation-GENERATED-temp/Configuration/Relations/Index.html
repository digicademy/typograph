<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>Configuring Relations — TypoGraph 0.30.0
        documentation</title>

    
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="phpdocumentor/guides" name="generator">
<meta content="TypoGraph" name="docsearch:name">
<meta content="" name="docsearch:package_type">
<meta content="0.30.0" name="docsearch:release">
<meta content="0.30.0" name="docsearch:version">
<meta content="2026-02-25T13:56:05+00:00" name="docsearch:modified">
<meta content="2026-02-25T13:56:05+00:00" name="dc.modified">
<meta content="2026-02-25T13:56:05+00:00" property="article:modified_time">
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.dc">
<link href="../../_resources/css/theme.css" rel="stylesheet">
<link href="https://docs.typo3.org/search/" rel="search" title="Search">
<script src="https://cdn.typo3.com/typo3infrastructure/universe/dist/webcomponents-loader.js"></script>
<script src="https://cdn.typo3.com/typo3infrastructure/universe/dist/typo3-universe.js" type="module"></script>
                        <link href="../Index.html" rel="prev" title="Configuration"/>
            <link href="../../Pagination/Index.html" rel="next" title="Pagination"/>
            <link href="../../Index.html" rel="top" title="TypoGraph"/>
    </head>
<body>
<div class="page">
    <header>
    <div class="page-topbar">
        <div class="page-topbar-inner">
            <typo3-universe active="documentation">
                <div style="display: block; height: 44px; background-color: #313131;"></div>
            </typo3-universe>
        </div>
    </div>
    <div class="page-header">
        <div class="page-header-inner">
            <div class="d-flex flex-wrap">
                <div class="logo-wrapper">
                    <a class="logo" href="https://docs.typo3.org/" title="TYPO3 Documentation">
                        <img alt="TYPO3 Logo" class="logo-image" src="../../_resources/img/typo3-logo.svg" width="484" height="130">
                    </a>
                </div>
                <div class="align-self-center order-lg-2 order-last">
                    
<div class="toc-header">
    <div class="toc-title pe-3">
                            <a class="toc-title-project" href="../../Index.html">TypoGraph</a>
            </div>
    <label for="languageSelect" class="visually-hidden">Select language</label>
        <select id="languageSelect" class="form-select d-none">
        </select>

                                  
        <label for="versionSelect" class="visually-hidden">Select version</label>
        <select id="versionSelect" class="form-select"
                data-current-version="0.30.0"
            data-override-url-proxy="../../_resources/js/versions-proxy.php?url=" data-override-url-self="https://docs.typo3.org/m/typo3/tutorial-getting-started/12.4/en-us/Concepts/Index.html"
        >
            <option disabled selected>Loading versions...</option>
        </select>
    </div>                </div>
                <div class="ms-auto order-lg-3 d-flex">
                    <div class="menu-search-wrapper">
                        <button id="toc-toggle" class="btn btn-light d-block d-lg-none" tabindex="0" aria-controls="toc-collapse" aria-expanded="false">
                            <i class="fas fa-bars"></i> <span class="visually-hidden">Mobile Menu</span>
                        </button>
                        <all-documentations-menu data-override-url="../../_resources/js/menu-proxy.php"></all-documentations-menu>
                                                <search role="search">
                            <form action="https://docs.typo3.org/search/search" id="global-search-form" method="get">
                                <div class="sr-only"><label for="globalsearchinput">TYPO3 documentation...</label></div>
                                <div class="input-group mb-3 mt-sm-3">
                                    <select class="form-select search__scope" id="searchscope" name="scope">
                                        <option value="">Search all</option>
                                    </select>
                                    <input autocomplete="off" class="form-control shadow-none" id="globalsearchinput" name="q" placeholder="TYPO3 documentation..." type="text" value="">
                                    <button class="btn btn-light" type="submit"><i class="fa fa-search"></i>&nbsp;<span class="d-none d-md-inline">Search</span></button>
                                </div>
                            </form>
                            <div id="global-search-root"></div>
                        </search>
                        <div class="position-relative d-inline-block">
                            <button id="options-toggle" class="btn btn-light d-block" type="button" aria-expanded="false">
                                <i class="fas fa-cog"></i> <span class="visually-hidden">Options</span>
                            </button>

                            <div id="options-panel"
                                 class="shadow p-3"
                                 role="menu"
                                 aria-hidden="true">
                                <h6 class="dropdown-header text-muted text-uppercase small mb-2">Options</h6>

                                                                                                            <a class="dropdown-item d-flex align-items-center gap-2" href="https://github.com/digicademy/typograph/issues/new/choose?title=Problem+on+https%3A%2F%2Fgithub.com%2Fdigicademy%2Ftypograph%2FConfiguration%2FRelations%2FIndex.html" id="btnReportIssue" rel="nofollow noopener" target="_blank">
        <i class="fas fa-comment-dots"></i>
        Give feedback
    </a>
    <a class="dropdown-item d-flex align-items-center gap-2" href="../../_sources/Configuration/Relations/Index.rst.txt" rel="nofollow noopener" target="_blank">
        <i class="fas fa-code"></i>
        View source
    </a>
    <a class="dropdown-item d-flex align-items-center gap-2" href="https://docs.typo3.org/m/typo3/docs-how-to-document/main/en-us/WritingDocsOfficial/GithubMethod.html" id="btnHowToEdit" rel="nofollow noopener" target="_blank">
        <i class="fas fa-info-circle"></i>
        How to edit
    </a>
    <a class="dropdown-item d-flex align-items-center gap-2" href="https://github.com/digicademy/typograph/edit/main/Documentation/Configuration/Relations/Index.rst" id="btnEditOnGitHub" rel="nofollow noopener" target="_blank">
        <i class="fab fa-github"></i>
        Edit on GitHub
    </a>
                                                                                                                <a class="dropdown-item d-flex align-items-center gap-2" href="../../singlehtml/Index.html" target="_blank" rel="noopener">
                                            <i class="fas fa-print"></i>
                                            Full documentation (single file)
                                        </a>
                                                                                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>    <main class="page-main">
        <div class="page-main-inner">
            <div class="page-main-navigation">
                <nav>

                    <div id="toc-collapse">
                                                <div aria-label="main navigation" class="toc"
                             role="navigation">
                                <all-documentations-menu-mobile
        data-override-url="../../_resources/js/menu-proxy.php"></all-documentations-menu-mobile>
    <div aria-label="Main navigation" class="main_menu" role="navigation">
                <p class="caption">TypoGraph</p>
            <ul class="menu-level-1" role="menubar">
    <li class="" role="menuitem">
    <a href="../../Introduction/Index.html">
        Introduction
    </a></li>    <li class="" role="menuitem">
    <a href="../../Installation/Index.html">
        Installation
    </a></li>    <li class=" active" role="menuitem">
    <a href="../Index.html">
        Configuration
    </a>        <ul class="menu-level-1"><li class=" current active" role="menuitem">
    <a href="#" aria-current="page">
        Configuring Relations
    </a></li></ul></li>    <li class="" role="menuitem">
    <a href="../../Pagination/Index.html">
        Pagination
    </a></li>    <li class="" role="menuitem">
    <a href="../../ErrorHandling/Index.html">
        Error Handling
    </a></li>    <li class="" role="menuitem">
    <a href="../../Example/Index.html">
        Example Setup
    </a></li>    </ul>
    </div>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="page-main-content">
                <div class="rst-content">                        <nav aria-label="breadcrumbs navigation" class="breadcrumb-bar" role="navigation">
        
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="../../Index.html">TypoGraph</a></li>
        <li class="breadcrumb-item"><a href="../Index.html">Configuration</a></li>
                    <li aria-current="page"  class="breadcrumb-item  active">Configuring Relations</li>
        </ol>
        <div class="breadcrumb-additions">                <a class="btn btn-sm btn-light" href="https://github.com/digicademy/typograph/issues/new/choose?title=Problem+on+https%3A%2F%2Fgithub.com%2Fdigicademy%2Ftypograph%2FConfiguration%2FRelations%2FIndex.html" id="btnReportIssue" rel="nofollow noopener" target="_blank">
                    <span class="btn-icon"><i class="fas fa-comment-dots"></i></span>
                    <span class="btn-text">Give feedback</span>
                </a>
                            <a class="btn btn-sm btn-secondary" href="https://github.com/digicademy/typograph/edit/main/Documentation/Configuration/Relations/Index.rst" id="btnEditOnGitHub" rel="nofollow noopener" target="_blank">
                    <span class="btn-icon"><span class="fab fa-github"></span></span>
                    <span class="btn-text">Edit on GitHub</span>
                </a>
            </div>
    </nav>
                    
<article class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
    <div itemprop="articleBody">
        <!-- content start -->
                <section class="section" id="configuring-relations" data-rst-anchor="relations">
            <a id="relations"></a>
            <h1>Configuring Relations<a class="headerlink" href="#configuring-relations" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h1>
            <div class="contents-wrapper">
        <ul class="menu-level">
    <li class="toc-item">
    <a href="#why-relations-need-configuration">Why Relations Need Configuration</a>


</li>
    <li class="toc-item">
    <a href="#relation-configuration-structure">Relation Configuration Structure</a>


</li>
    <li class="toc-item">
    <a href="#configuration-fields">Configuration Fields</a>


</li>
    <li class="toc-item">
    <a href="#storage-types">Storage Types</a>

        <ul class="section-level-1">
            <li class="toc-item">
    <a href="#1-single-uid-uid">1. Single UID (uid)</a>


</li>
            <li class="toc-item">
    <a href="#2-comma-separated-uids-commaseparated">2. Comma-Separated UIDs (commaSeparated)</a>


</li>
            <li class="toc-item">
    <a href="#3-mm-table-mmtable">3. MM Table (mmTable)</a>


</li>
            <li class="toc-item">
    <a href="#4-foreign-key-inverse-relation-foreignkey">4. Foreign Key / Inverse Relation (foreignKey)</a>


</li>
                    </ul>
</li>
    <li class="toc-item">
    <a href="#complete-configuration-example">Complete Configuration Example</a>


</li>
    <li class="toc-item">
    <a href="#graphql-query-example">GraphQL Query Example</a>


</li>
    </ul>

    <button class="toggle-all-sections btn btn-sm btn-light">Collapse all Sections</button>
</div>
            
    <p>When your GraphQL types reference other types (e.g., a <code class="code-inline" translate="no">Taxonomy</code> has multiple
<code class="code-inline" translate="no">Discipline</code> objects), you need to configure how TypoGraph should resolve these
relations from your database.</p>

            <section class="section" id="why-relations-need-configuration" data-rst-anchor="h2-configuration-relations-why">
            <a id="h2-configuration-relations-why"></a>
            <h2>Why Relations Need Configuration<a class="headerlink" href="#why-relations-need-configuration" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            
    <p>Unlike scalar fields (strings, integers), object-type fields require the
TypoGraph extension to:</p>

            
    
<ol type="1">
    <li>Identify which database column stores the relation reference</li>
    <li>Know which table to query for the related records</li>
    <li>Understand the storage format (single UID, comma-separated UIDs, or MM table)</li>
</ol>

            
    <p>Without explicit configuration, TypoGraph will log a warning and return <code class="code-inline" translate="no">null</code>
for unconfigured relations.</p>

    </section>
            <section class="section" id="relation-configuration-structure" data-rst-anchor="h2-configuration-relations-structure">
            <a id="h2-configuration-relations-structure"></a>
            <h2>Relation Configuration Structure<a class="headerlink" href="#relation-configuration-structure" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            
    <p>Relations are configured under the <code class="code-inline" translate="no">typograph.<wbr>relations</code> key in the site
configuration, nested as <code class="code-inline" translate="no">&lt;Type<wbr>Name&gt;: &lt;field<wbr>Name&gt;: &lt;config&gt;</code>:</p>

                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>
  <span class="hljs-attr">relations:</span>
    <span class="hljs-attr">TypeName:</span>
      <span class="hljs-attr">fieldName:</span>
        <span class="hljs-attr">sourceField:</span> <span class="hljs-string">database_column_name</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">RelatedTypeName</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">uid</span>  <span class="hljs-comment"># uid | commaSeparated | mmTable | foreignKey</span>

        <span class="hljs-comment"># Additional fields for mmTable storage type:</span>
        <span class="hljs-attr">mmTable:</span> <span class="hljs-string">tx_some_mm_table</span>
        <span class="hljs-attr">mmSourceField:</span> <span class="hljs-string">uid_local</span>
        <span class="hljs-attr">mmTargetField:</span> <span class="hljs-string">uid_foreign</span>
        <span class="hljs-attr">mmSortingField:</span> <span class="hljs-string">sorting</span>

        <span class="hljs-comment"># Additional fields for foreignKey storage type:</span>
        <span class="hljs-attr">foreignKeyField:</span> <span class="hljs-string">column_in_target_table</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="configuration-fields" data-rst-anchor="h2-configuration-relations-fields">
            <a id="h2-configuration-relations-fields"></a>
            <h2>Configuration Fields<a class="headerlink" href="#configuration-fields" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            <div class="table-responsive">
    <table class="table table-bordered align-default colwidths-grid">
                    <colgroup>
                                    <col style="width: 22%">
                        </colgroup>
            <thead>
            <tr>
                            <th>Field</th>
                            <th>Required</th>
                            <th>Default</th>
                            <th>Description</th>
                    </tr>
        </thead>
        <tbody>
    <tr>
            <td><code class="code-inline" translate="no">source<wbr>Field</code></td>            <td>No</td>            <td>Field name in snake_case</td>            <td>Database column in the source table containing the relation reference
(not used for <code class="code-inline" translate="no">foreign<wbr>Key</code> type)</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">target<wbr>Type</code></td>            <td>Yes</td>            <td>&lt;none&gt;</td>            <td>GraphQL type name of the related entity (must exist in <code class="code-inline" translate="no">table<wbr>Mapping</code>)</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">storage<wbr>Type</code></td>            <td>No</td>            <td><code class="code-inline" translate="no">uid</code></td>            <td>How the relation is stored: <code class="code-inline" translate="no">uid</code>, <code class="code-inline" translate="no">comma<wbr>Separated</code>, <code class="code-inline" translate="no">mm<wbr>Table</code>, or
<code class="code-inline" translate="no">foreign<wbr>Key</code></td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">mm<wbr>Table</code></td>            <td>For <code class="code-inline" translate="no">mm<wbr>Table</code> only</td>            <td>&lt;none&gt;</td>            <td>Name of the MM (many-to-many) intermediary table</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">mm<wbr>Source<wbr>Field</code></td>            <td>For <code class="code-inline" translate="no">mm<wbr>Table</code> only</td>            <td><code class="code-inline" translate="no">uid_<wbr>local</code></td>            <td>Column in MM table referencing source record</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">mm<wbr>Target<wbr>Field</code></td>            <td>For <code class="code-inline" translate="no">mm<wbr>Table</code> only</td>            <td><code class="code-inline" translate="no">uid_<wbr>foreign</code></td>            <td>Column in MM table referencing target record</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">mm<wbr>Sorting<wbr>Field</code></td>            <td>For <code class="code-inline" translate="no">mm<wbr>Table</code> only</td>            <td><code class="code-inline" translate="no">sorting</code></td>            <td>Column in MM table for sorting order</td>    </tr>    <tr>
            <td><code class="code-inline" translate="no">foreign<wbr>Key<wbr>Field</code></td>            <td>For <code class="code-inline" translate="no">foreign<wbr>Key</code> only</td>            <td>&lt;none&gt;</td>            <td>Column in target table that references the source record UID</td>    </tr></tbody>    </table>
</div>
    </section>
            <section class="section" id="storage-types" data-rst-anchor="h2-configuration-relations-storage-types">
            <a id="h2-configuration-relations-storage-types"></a>
            <h2>Storage Types<a class="headerlink" href="#storage-types" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            
    <p>The following variants are available for the <code class="code-inline" translate="no">storage<wbr>Type</code> field.</p>

            <section class="section" id="1-single-uid-uid" data-rst-anchor="h3-configuration-relations-storage-type-single-uid">
            <a id="h3-configuration-relations-storage-type-single-uid"></a>
            <h3>1. Single UID (<code class="code-inline" translate="no">uid</code>)<a class="headerlink" href="#1-single-uid-uid" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h3>
            
    <p>Use when a database column contains a single UID reference.</p>

                <div class="code-block-caption">
        <span class="caption-text">Database structure</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">tx_taxonomy table:
  uid: 1
  name: "Computer Science"
  main_discipline: 42  ← Single UID</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">GraphQL schema</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">type Taxonomy {
  name: String
  mainDiscipline: Discipline
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>
  <span class="hljs-attr">relations:</span>
    <span class="hljs-attr">Taxonomy:</span>
      <span class="hljs-attr">mainDiscipline:</span>
        <span class="hljs-attr">sourceField:</span> <span class="hljs-string">main_discipline</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">uid</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="2-comma-separated-uids-commaseparated" data-rst-anchor="h3-configuration-relations-storage-type-comma-separated">
            <a id="h3-configuration-relations-storage-type-comma-separated"></a>
            <h3>2. Comma-Separated UIDs (<code class="code-inline" translate="no">comma<wbr>Separated</code>)<a class="headerlink" href="#2-comma-separated-uids-commaseparated" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h3>
            
    <p>Use when a database column contains multiple UIDs as a comma-separated string.</p>

                <div class="code-block-caption">
        <span class="caption-text">Database structure</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">tx_taxonomy table:
  uid: 1
  name: "Computer Science"
  disciplines: "12,45,78"  ← Comma-separated UIDs</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">GraphQL schema</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">type Taxonomy {
  name: String
  disciplines: [Discipline]
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>
  <span class="hljs-attr">relations:</span>
    <span class="hljs-attr">Taxonomy:</span>
      <span class="hljs-attr">disciplines:</span>
        <span class="hljs-attr">sourceField:</span> <span class="hljs-string">disciplines</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">commaSeparated</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="3-mm-table-mmtable" data-rst-anchor="h3-configuration-relations-storage-type-mm-table">
            <a id="h3-configuration-relations-storage-type-mm-table"></a>
            <h3>3. MM Table (<code class="code-inline" translate="no">mm<wbr>Table</code>)<a class="headerlink" href="#3-mm-table-mmtable" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h3>
            
    <p>Use for many-to-many relations stored via an intermediary MM table.</p>

                <div class="code-block-caption">
        <span class="caption-text">Database structure</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">tx_expert table:
  uid: 5
  name: "Dr. Smith"

tx_expert_discipline_mm table:
  uid_local: 5      ← References expert
  uid_foreign: 12   ← References discipline
  sorting: 1

tx_discipline table:
  uid: 12
  name: "Physics"</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">GraphQL schema</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">type Expert {
  name: String
  disciplines: [Discipline]
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>
  <span class="hljs-attr">relations:</span>
    <span class="hljs-attr">Expert:</span>
      <span class="hljs-attr">disciplines:</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">mmTable</span>
        <span class="hljs-attr">mmTable:</span> <span class="hljs-string">tx_expert_discipline_mm</span>
        <span class="hljs-attr">mmSourceField:</span> <span class="hljs-string">uid_local</span>
        <span class="hljs-attr">mmTargetField:</span> <span class="hljs-string">uid_foreign</span>
        <span class="hljs-attr">mmSortingField:</span> <span class="hljs-string">sorting</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="4-foreign-key-inverse-relation-foreignkey" data-rst-anchor="h3-configuration-relations-storage-type-foreign-key">
            <a id="h3-configuration-relations-storage-type-foreign-key"></a>
            <h3>4. Foreign Key / Inverse Relation (<code class="code-inline" translate="no">foreign<wbr>Key</code>)<a class="headerlink" href="#4-foreign-key-inverse-relation-foreignkey" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h3>
            
    <p>Use when the target table has a foreign key column pointing back to the source
record. This handles &#039;sloppy MM&#039; scenarios where multiple target records can
reference the same source record, potentially with duplicate data. While this
ideally should not happen, sometimes you may have to work with legacy databases
containing denormalized data, inverse relations where child records point to
the parent, or just with cases where somebody couldn&#039;t be bothered to set up
proper MM tables (every software project has at least one former team member
like this).</p>

                <div class="code-block-caption">
        <span class="caption-text">Database structure</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">tx_taxonomy table:
  uid: 5
  name: "Applied Sciences"

tx_discipline table:
  uid: 1
  name: "Physics"
  discipline_taxonomy: 5  ← Foreign key pointing to taxonomy

tx_discipline table:
  uid: 2
  name: "Physics"          ← Same name, different record
  discipline_taxonomy: 5  ← Same taxonomy reference

tx_discipline table:
  uid: 3
  name: "Chemistry"
  discipline_taxonomy: 5  ← Another discipline for same taxonomy</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">GraphQL schema</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">type Taxonomy {
  name: String
  disciplines: [Discipline]
}

type Discipline {
  name: String
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>
  <span class="hljs-attr">relations:</span>
    <span class="hljs-attr">Taxonomy:</span>
      <span class="hljs-attr">disciplines:</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">foreignKey</span>
        <span class="hljs-attr">foreignKeyField:</span> <span class="hljs-string">discipline_taxonomy</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
            
    <p><strong>How it works:</strong> In this case, TypoGraph queries the target table (<code class="code-inline" translate="no">tx_<wbr>discipline</code>) with a <code class="code-inline" translate="no">WHERE discipline_<wbr>taxonomy = &lt;source-<wbr>uid&gt;</code> query and returns all matching records (including duplicates).</p>

    </section>
    </section>
            <section class="section" id="complete-configuration-example" data-rst-anchor="h2-configuration-relations-complete-config-example">
            <a id="h2-configuration-relations-complete-config-example"></a>
            <h2>Complete Configuration Example<a class="headerlink" href="#complete-configuration-example" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            
    <p>This is a complete example with multiple relation types:</p>

                <div class="code-block-caption">
        <span class="caption-text">config/sites/&lt;site-identifier&gt;/config.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">typograph:</span>

  <span class="hljs-comment"># Schema files</span>
  <span class="hljs-attr">schemaFiles:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'EXT:pkf_website/Resources/Private/Schemas/Query.graphql'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'EXT:pkf_website/Resources/Private/Schemas/Taxonomy.graphql'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'EXT:pkf_website/Resources/Private/Schemas/Discipline.graphql'</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">'EXT:pkf_website/Resources/Private/Schemas/Expert.graphql'</span>

  <span class="hljs-comment"># Root elements to tables mapping</span>
  <span class="hljs-attr">tableMapping:</span>
    <span class="hljs-attr">disciplines:</span> <span class="hljs-string">tx_dmdb_domain_model_discipline</span>
    <span class="hljs-attr">experts:</span> <span class="hljs-string">tx_academy_domain_model_persons</span>
    <span class="hljs-attr">taxonomies:</span> <span class="hljs-string">tx_dmdb_domain_model_discipline_taxonomy</span>

  <span class="hljs-comment"># Relation configuration</span>
  <span class="hljs-attr">relations:</span>

    <span class="hljs-attr">Taxonomy:</span>
      <span class="hljs-comment"># Single UID relation</span>
      <span class="hljs-attr">mainDiscipline:</span>
        <span class="hljs-attr">sourceField:</span> <span class="hljs-string">main_discipline</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">uid</span>

      <span class="hljs-comment"># Comma-separated UIDs relation</span>
      <span class="hljs-attr">disciplines:</span>
        <span class="hljs-attr">sourceField:</span> <span class="hljs-string">disciplines</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">commaSeparated</span>

      <span class="hljs-comment"># Foreign key relation (inverse/legacy MM)</span>
      <span class="hljs-attr">relatedDisciplines:</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">foreignKey</span>
        <span class="hljs-attr">foreignKeyField:</span> <span class="hljs-string">discipline_taxonomy</span>

    <span class="hljs-attr">Expert:</span>
      <span class="hljs-comment"># MM table relation</span>
      <span class="hljs-attr">disciplines:</span>
        <span class="hljs-attr">targetType:</span> <span class="hljs-string">Discipline</span>
        <span class="hljs-attr">storageType:</span> <span class="hljs-string">mmTable</span>
        <span class="hljs-attr">mmTable:</span> <span class="hljs-string">tx_academy_persons_discipline_mm</span>
        <span class="hljs-attr">mmSourceField:</span> <span class="hljs-string">uid_local</span>
        <span class="hljs-attr">mmTargetField:</span> <span class="hljs-string">uid_foreign</span>
        <span class="hljs-attr">mmSortingField:</span> <span class="hljs-string">sorting</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="graphql-query-example" data-rst-anchor="h2-configuration-relations-query-example">
            <a id="h2-configuration-relations-query-example"></a>
            <h2>GraphQL Query Example<a class="headerlink" href="#graphql-query-example" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline">&nbsp;<i class="fa-solid fa-link"></i></a></h2>
            
    <p>With the configuration above, you can now query nested relations:</p>

                <div class="code-block-caption">
        <span class="caption-text">GraphQL query</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs plaintext">{
  experts {
    familyName
    givenName
    disciplines {
      name
    }
  }
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
    </section>
        <!-- content end -->
    </div>
</article>
                        
            <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center"><li class="page-item">
                            <a class="page-link" href="../Index.html"
                               title="Accesskey Alt(+Shift)+p">
                                <i class="fa-solid fa-chevron-left"></i> Previous
                            </a>
                        </li>
                    <li class="page-item">
                            <a class="page-link" href="../../Pagination/Index.html"
                               title="Accesskey Alt(+Shift)+n">
                                Next <i class="fa-solid fa-chevron-right"></i>
                            </a>
                        </li>
                    </ul>
        </nav>
                    </div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="linkReferenceModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename="Configuration/Relations/Index" data-interlink-shortcode="digicademy/typograph">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkReferenceModalLabel">Reference to the headline</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="permalink-alert-success" role="alert"></div>
                <div class="mb-3">
                    <div class="permalink-short-wrapper">
                        <label for="permalink-short" class="col-form-label">Permalink (Shortlink)</label>
                        <div class="input-group">
                            <input class="form-control code" id="permalink-short" readonly>
                            <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-short"><i class="far fa-clone"></i></button>
                        </div>
                        <p><em>Copy and freely share the link</em></p>
                    </div>
                    <label for="permalink-uri" class="col-form-label">URL</label>
                    <div class="input-group">
                        <input class="form-control code" id="permalink-uri" readonly>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-uri"><i class="far fa-clone"></i></button>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="alert alert-warning alert-permalink-rst" role="alert">This link target has no permanent anchor assigned.                        You can make a <a href="https://github.com/digicademy/typograph/edit/main/Documentation/Configuration/Relations/Index.rst">pull request on GitHub</a> to suggest an anchor.
                        The link below can be used, but is prone to change if the page gets moved.
                    </div>
                    <label for="permalink-rst" class="col-form-label">Link in reStructuredText (reST)</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-rst" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-rst"><i class="far fa-clone"></i></button>
                    </div>
                    <p><em>Copy this link into your TYPO3 manual.</em></p>
                </div>
                <div class="mb-3">
                    <label for="permalink-md" class="col-form-label">Link in Markdown</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-md" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-md"><i class="far fa-clone"></i></button>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="permalink-html" class="col-form-label">Link in HTML</label>
                                        <div class="input-group">
                        <textarea class="form-control code" id="permalink-html" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-html"><i class="far fa-clone"></i></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>    <div class="modal fade" id="generalModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename="Configuration/Relations/Index"
>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="generalModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="general-alert-success" role="alert"></div>
                <div id="generalModalContent">
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <div id="generalModalCustomButtons"></div>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="fa-regular fa-circle-xmark"></i>&nbsp;Close</button>
            </div>
        </div>
    </div>
</div></div>


<footer class="page-footer">
    <div class="frame frame-ruler-before frame-background-dark">
        <div class="frame-container">
            <div class="frame-inner">
                <ul class="footer-simplemenu">
                        <li><a href="https://github.com/digicademy/typograph" title="Home" rel="nofollow noopener"><span>Home</span></a></li>
                                                                        <li><a href="https://github.com/digicademy/typograph/issues" rel="nofollow noopener" title="Issues"><span>Issues</span></a></li>
                                                <li><a href="https://github.com/digicademy/typograph" rel="nofollow noopener" title="Repository"><span>Repository</span></a></li>
                                            </ul>                <div class="footer-additional">
                    <p class="text-center">Last rendered: Feb 25, 2026 13:56</p>
                </div>
                <div class="footer-meta">
                                        <div class="footer-meta-copyright">
                        &copy; The contributors
                    </div>
                    <ul class="footer-meta-navigation">
                        <li><a href="https://typo3.org/legal-notice" rel="nofollow" target="_blank" title="Legal Notice">Legal Notice</a></li>
                        <li><a href="https://typo3.org/privacy-policy" rel="nofollow" target="_blank" title="Privacy Policy">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
<script src="../../_resources/js/popper.min.js"></script>
<script src="../../_resources/js/bootstrap.min.js"></script>
<script src="../../_resources/js/theme.min.js"></script>

<!--
 Locally rendered. No tracking embedded.
-->
</body>
</html>